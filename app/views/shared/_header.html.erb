<header>
  <nav class='navbar navbar-expand-lg navigation navbar-light bg-light'>
    <%= link_to '/', class: 'navbar-brand' do %>
      <h1 class="p-3">パフェコレ</h1>
    <% end %>
    <button class='navbar-toggler' data-bs-toggle='collapse' data-bs-target='#navbarSupportedContent'
      aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation'>
      <span class='navbar-toggler-icon'></span>
    </button>

    <div class='collapse navbar-collapse p-3' id='navbarSupportedContent'>
      <ul class='navbar-nav ms-auto main-nav align-items-center'>
        <li class='nav-item'>
          <%= link_to '口コミから探す', reviews_path, class: 'nav-link' %>
        </li>

        <li class='nav-item'>
          <%= link_to '店舗から探す', shops_path, class: 'nav-link' %>
        </li>

        <li class='nav-item'>
          <%= link_to '商品から探す', parfaits_path, class: 'nav-link' %>
        </li>

        <li class='nav-item'>
          <%= link_to 'ランキング', '#', class: 'nav-link' %>
        </li>

        <% if user_signed_in? %>
          <li class='nav-item dropdown dropdown-slide'>
            <%= link_to '#', class: 'nav-link', data: { bs_toggle: 'dropdown' }, aria: { haspopup: 'true', expanded: 'false' }, id: 'header-profile' do %>
              <% if current_user.avatar.present? %>
                <%= image_tag current_user.avatar, class: 'rounded-circle mr15', width: '40', height: '40' %>
              <% else %>  
                <%= image_tag 'noimage.png', class: 'rounded-circle mr15', width: '40', height: '40' %>
              <% end %>  
            <% end %>
            <div class='dropdown-menu dropdown-menu-end'>
              <div class='dropdown-item'><%= current_user.name %></div>
              <div class='dropdown-divider'></div>
              <%= link_to 'プロフィール', users_profile_path, class: 'dropdown-item' %>
              <%= link_to 'ログアウト', destroy_user_session_path, class: 'dropdown-item', data: { turbo_method: :delete } %>
            </div>
          </li>
        <% else %>
          <li class='nav-item'>
            <%= link_to 'ログイン', new_user_session_path, class: 'nav-link' %>
          </li>

          <li class='nav-item'>
            <%= link_to 'ユーザ登録', new_user_registration_path, class: 'nav-link' %>
          </li>
        <% end %>
      </ul>
    </div>
  </nav>
</header>